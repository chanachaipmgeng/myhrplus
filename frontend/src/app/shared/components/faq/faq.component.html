<div class="faq-container min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-8 relative overflow-hidden">
  <div class="faq-content max-w-[1000px] mx-auto relative z-10">
    <!-- Header -->
    <div class="faq-header text-center mb-12 text-white">
      <div class="faq-icon mb-6 animate-float">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
          <line x1="12" y1="17" x2="12.01" y2="17"></line>
        </svg>
      </div>
      <h1 class="faq-title text-5xl font-black mb-4 leading-tight drop-shadow-md md:text-[40px] md:text-4xl">Frequently Asked Questions</h1>
      <p class="faq-description text-xl opacity-90 leading-relaxed max-w-[600px] mx-auto md:text-lg">
        Find answers to common questions about our platform, features, and services.
      </p>
    </div>

    <!-- Search Section -->
    <div class="search-section mb-12">
      <div class="search-container max-w-[600px] mx-auto">
        <div class="search-input-wrapper relative flex items-center bg-white/95 backdrop-blur-sm rounded-xl px-4 py-3 shadow-lg transition-all focus-within:shadow-xl focus-within:-translate-y-0.5">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="search-icon text-gray-400 mr-3">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input
            type="text"
            [(ngModel)]="searchQuery"
            (input)="onSearchInput()"
            placeholder="Search questions, answers, or topics..."
            class="search-input flex-1 border-none outline-none text-base text-gray-800 bg-transparent placeholder-gray-400"
          />
          <button
            type="button"
            (click)="searchQuery = ''; onSearchInput()"
            class="clear-button bg-transparent border-none text-gray-400 cursor-pointer p-1 rounded transition-all hover:text-primary-500 hover:bg-gray-100"
            *ngIf="searchQuery"
          >
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Categories -->
    <div class="categories-section mb-12">
      <h3 class="categories-title text-xl font-bold text-white mb-6 text-center">Browse by Category</h3>
      <div class="categories-grid grid grid-cols-[repeat(auto-fit,minmax(200px,1fr))] gap-4 max-w-[800px] mx-auto md:grid-cols-1">
        <button
          *ngFor="let category of categories"
          (click)="onCategoryChange(category.id)"
          class="category-button flex items-center gap-4 px-6 py-6 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white cursor-pointer transition-all text-left hover:bg-white/20 hover:-translate-y-0.5 hover:shadow-lg"
          [class.bg-white/95]="selectedCategory === category.id"
          [class.text-gray-800]="selectedCategory === category.id"
          [class.shadow-lg]="selectedCategory === category.id"
        >
          <span class="category-icon text-2xl flex-shrink-0">{{ category.icon }}</span>
          <div class="category-content flex-1">
            <span class="category-name block font-semibold text-base mb-1">{{ category.name }}</span>
            <span class="category-count text-sm opacity-80">{{ category.count }} questions</span>
          </div>
        </button>
      </div>
    </div>

    <!-- Results Count -->
    <div class="results-section mb-8">
      <div class="results-info text-center text-white">
        <span class="results-count text-lg font-semibold">{{ getFilteredCount() }} questions found</span>
        <span class="results-category text-sm opacity-80 ml-2" *ngIf="selectedCategory !== 'all'">
          in {{ getCategoryName(selectedCategory) }}
        </span>
      </div>
    </div>

    <!-- No Results Message -->
    <div class="no-results text-center p-16 px-8 bg-white/95 backdrop-blur-sm rounded-[20px] shadow-xl" *ngIf="!hasSearchResults()">
      <div class="no-results-icon text-gray-400 mb-6">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
      </div>
      <h3 class="no-results-title text-xl font-bold text-gray-800 mb-4">{{ getSearchMessage() || 'No questions found' }}</h3>
      <p class="no-results-description text-base text-gray-600 mb-8 leading-relaxed">
        Try searching with different keywords or browse by category.
      </p>
      <button (click)="searchQuery = ''; selectedCategory = 'all'; onSearchInput()" class="btn btn-primary inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-base no-underline border-none cursor-pointer transition-all bg-indigo-500 text-white hover:bg-indigo-600 hover:-translate-y-0.5 hover:shadow-lg">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M1 4v6h6"></path>
          <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
        </svg>
        Clear Filters
      </button>
    </div>

    <!-- FAQ Items -->
    <div class="faq-items flex flex-col gap-4 mb-12" *ngIf="hasSearchResults()">
      <div
        *ngFor="let item of filteredFaqItems"
        class="faq-item bg-white/95 backdrop-blur-sm rounded-xl shadow-md overflow-hidden transition-all hover:shadow-lg hover:-translate-y-0.5"
        [class.shadow-xl]="isQuestionSelected(item.id)"
        [class.expanded]="isQuestionSelected(item.id)"
      >
        <div class="faq-question flex items-center justify-between px-6 py-6 cursor-pointer transition-all hover:bg-gray-50" (click)="toggleQuestion(item.id)">
          <div class="question-content flex-1 mr-4">
            <h4 class="question-text text-lg font-semibold text-gray-800 m-0 mb-3 leading-relaxed">{{ item.question }}</h4>
            <div class="question-meta flex items-center gap-4 text-sm text-gray-600 md:flex-col md:items-start md:gap-2">
              <span class="question-category flex items-center gap-2">
                <span class="category-icon text-sm">{{ getCategoryIcon(item.category) }}</span>
                {{ getCategoryName(item.category) }}
              </span>
              <span class="question-date">
                Updated {{ item.lastUpdated | date:'MMM d, y' }}
              </span>
            </div>
          </div>
          <div class="question-actions flex items-center gap-4 md:flex-col md:gap-2">
            <div class="helpfulness" *ngIf="item.helpful > 0 || item.notHelpful > 0">
              <span class="helpfulness-text text-xs text-success-500 font-semibold">
                {{ getHelpfulnessPercentage(item.helpful, item.notHelpful) }}% helpful
              </span>
            </div>
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              class="expand-icon text-gray-400 transition-transform"
              [class.rotate-180]="isQuestionSelected(item.id)"
            >
              <polyline points="6,9 12,15 18,9"></polyline>
            </svg>
          </div>
        </div>

        <div class="faq-answer border-t border-gray-200 px-6 py-6 bg-gray-50" *ngIf="isQuestionSelected(item.id)">
          <div class="answer-content mb-6">
            <p class="answer-text text-base text-gray-700 leading-relaxed m-0 mb-4">{{ item.answer }}</p>
            <div class="answer-tags flex flex-wrap gap-2" *ngIf="item.tags.length > 0">
              <span class="tag bg-primary-500 text-white px-3 py-1 rounded-2xl text-xs font-medium" *ngFor="let tag of item.tags">{{ tag }}</span>
            </div>
          </div>
          <div class="answer-actions">
            <div class="helpfulness-actions">
              <span class="helpfulness-label text-sm text-gray-700 font-semibold mr-4">Was this helpful?</span>
              <div class="helpfulness-buttons flex gap-3 mt-3 md:flex-col md:items-start">
                <button
                  type="button"
                  (click)="markAsHelpful(item.id)"
                  class="helpfulness-button helpful flex items-center gap-2 px-4 py-2 border border-gray-200 rounded-xl bg-white text-gray-700 text-sm cursor-pointer transition-all hover:border-green-500 hover:text-success-500 hover:bg-green-50"
                >
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                  Yes ({{ item.helpful }})
                </button>
                <button
                  type="button"
                  (click)="markAsNotHelpful(item.id)"
                  class="helpfulness-button not-helpful flex items-center gap-2 px-4 py-2 border border-gray-200 rounded-xl bg-white text-gray-700 text-sm cursor-pointer transition-all hover:border-error-500 hover:text-error-500 hover:bg-error-50"
                >
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.28a2 2 0 0 1 2 1.7l1.38 9a2 2 0 0 1-2 2.3H17"></path>
                  </svg>
                  No ({{ item.notHelpful }})
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Contact Support -->
    <div class="contact-section">
      <div class="contact-card flex items-center gap-8 px-8 py-8 bg-white/95 backdrop-blur-sm rounded-[20px] shadow-xl md:flex-col md:text-center">
        <div class="contact-icon text-indigo-500 flex-shrink-0">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
          </svg>
        </div>
        <div class="contact-content flex-1">
          <h3 class="contact-title text-2xl font-bold text-gray-800 m-0 mb-3">Still need help?</h3>
          <p class="contact-description text-base text-gray-600 leading-relaxed m-0 mb-6">
            Can't find what you're looking for? Our support team is here to help you 24/7.
          </p>
          <div class="contact-actions flex gap-4 flex-wrap md:justify-center">
            <button (click)="contactSupport()" class="btn btn-primary inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-base no-underline border-none cursor-pointer transition-all bg-indigo-500 text-white hover:bg-indigo-600 hover:-translate-y-0.5 hover:shadow-lg">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
              </svg>
              Contact Support
            </button>
            <a href="mailto:support@company.com" class="btn btn-outline inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-base no-underline border-2 border-indigo-500 cursor-pointer transition-all bg-transparent text-indigo-500 hover:bg-indigo-500 hover:text-white hover:-translate-y-0.5">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
              </svg>
              Email Us
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

