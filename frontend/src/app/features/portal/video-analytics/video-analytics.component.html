<div class="space-y-6">
  <!-- Header -->
  <div class="flex items-center justify-between">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100">
      Video Analytics Task Management
    </h1>
    <app-glass-button variant="primary" (clicked)="openAddModal()">
      âž• Create Task
    </app-glass-button>
  </div>

  <!-- Info Card -->
  <app-glass-card>
    <div class="flex items-start space-x-4">
      <span class="text-3xl">ðŸ”¬</span>
      <div>
        <h3 class="font-medium text-gray-900 dark:text-gray-100 mb-1">AI-Powered Video Analytics</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400">
          Configure and monitor AI analytics tasks for real-time video processing, detection, and alerts.
        </p>
      </div>
    </div>
  </app-glass-card>

  <!-- Tasks Table -->
  <app-data-table
    [columns]="columns"
    [data]="tasks()"
    [actions]="actions"
    [searchable]="true"
  >
    <div actions>
      <app-glass-button (clicked)="loadTasks()">
        ðŸ”„ Refresh
      </app-glass-button>
    </div>
  </app-data-table>

  <!-- Create Task Modal -->
  <app-modal
    [isOpen]="showModal()"
    title="Create Analytics Task"
    [loading]="saving()"
    (closed)="closeModal()"
    (confirmed)="saveTask()"
  >
    <div class="space-y-4">
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">
          Task Name <span class="text-red-500">*</span>
        </label>
        <input
          [(ngModel)]="formData.name"
          type="text"
          class="glass-input w-full"
          placeholder="Main Entrance Face Recognition"
        />
      </div>

      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">
          Analytics Type <span class="text-red-500">*</span>
        </label>
        <select
          [(ngModel)]="formData.type"
          class="glass-input w-full"
        >
          <option *ngFor="let type of analyticsTypes" [value]="type.value">
            {{ type.label }}
          </option>
        </select>
      </div>

      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">
          Camera ID <span class="text-red-500">*</span>
        </label>
        <input
          [(ngModel)]="formData.cameraId"
          type="number"
          class="glass-input w-full"
          placeholder="1"
        />
      </div>

      <div class="glass bg-blue-500/10 border border-blue-500 p-4 rounded-lg">
        <p class="text-sm text-blue-700 dark:text-blue-400">
          ðŸ’¡ <strong>Tip:</strong> After creating the task, you can configure advanced settings such as detection zones, confidence thresholds, and alert rules.
        </p>
      </div>
    </div>
  </app-modal>
</div>

