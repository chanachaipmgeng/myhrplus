<app-page-layout
  title="ลูกน้อง"
  [breadcrumb]="[
    { label: 'Portal', link: '/portal' },
    { label: 'Self Service', link: '/portal/self-service' },
    { label: 'ลูกน้อง', link: '/portal/self-service/subordinates' }
  ]">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-4">
    @if (isLoading()) {
      <app-skeleton-loader type="list" [rows]="5" [showAvatar]="true"></app-skeleton-loader>
    } @else {
      @if (subordinates.length === 0) {
        <app-empty-state
          [icon]="'people'"
          [title]="'ไม่มีลูกน้อง'"
          [description]="'คุณยังไม่มีลูกน้องในระบบ'">
        </app-empty-state>
      } @else {
        @for (sub of subordinates; track sub.id; let i = $index) {
          <app-glass-card [appStagger]="i" [staggerDelay]="0.1">
            <div class="p-6">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                  <app-avatar
                    [name]="sub.firstName + ' ' + sub.lastName"
                    size="md"
                    shape="circle">
                  </app-avatar>
                  <div>
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
                      {{ sub.firstName }} {{ sub.lastName }}
                    </h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                      {{ sub.position }} - {{ sub.department }}
                    </p>
                    <p class="text-xs text-gray-500 dark:text-gray-500 mt-1">
                      {{ sub.employeeId }} • {{ sub.email }}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </app-glass-card>
        }
      }
    }
  </div>
</app-page-layout>
