<section class="login-container">
  <div class="login-layout">
    <!-- Left Section - Promotional (40%) -->
    <div class="login-left-section">
      <div class="login-left-content">
        <div class="login-left-pattern"></div>
        <div class="login-left-text">
          <h1 class="login-left-title">Unlock the power of AI</h1>
          <p class="login-left-subtitle">Experience the power of AI with us.</p>
        </div>
      </div>
    </div>

    <!-- Right Section - Login Form (60%) -->
    <div class="login-right-section">
      <div class="login-right-content">
        <!-- Logo Section -->
        <div class="login-logo-section">
          <div class="login-logo">
            <div class="login-logo-icon">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 4L20 12L28 12L22 18L24 26L16 20L8 26L10 18L4 12L12 12L16 4Z" fill="#8B5CF6"/>
              </svg>
            </div>
            <h1 class="login-logo-text thai-text">ระบบ HR</h1>
          </div>
        </div>

        <!-- Tab Navigation -->
        <div class="login-tabs">
          <button class="login-tab active thai-text">เข้าสู่ระบบ</button>
          <button class="login-tab thai-text">สร้างบัญชี</button>
        </div>

        <!-- Login Form -->
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          <!-- Username Field -->
          <div class="form-field">
            <ejs-textbox 
              class="e-bigger login-input" 
              type="text" 
              placeholder="ชื่อผู้ใช้หรืออีเมล" 
              floatLabelType="Never" 
              [(value)]="username"
              (valueChange)="onUsernameChange($event)"
              (blur)="loginForm.get('username')?.markAsTouched()"
              aria-label="enter your username" 
              role="textbox">
            </ejs-textbox>
            <div *ngIf="!username && loginForm.get('username')?.touched" 
                 class="form-error thai-text">
              กรุณากรอกชื่อผู้ใช้
            </div>
          </div>

          <!-- Password Field -->
          <div class="form-field">
            <ejs-textbox 
              class="e-bigger login-input" 
              type="password" 
              placeholder="รหัสผ่าน" 
              floatLabelType="Never" 
              [(value)]="password"
              (valueChange)="onPasswordChange($event)"
              (blur)="loginForm.get('password')?.markAsTouched()"
              aria-label="enter your password" 
              role="textbox">
            </ejs-textbox>
            <div *ngIf="!password && loginForm.get('password')?.touched" 
                 class="form-error thai-text">
              กรุณากรอกรหัสผ่าน
            </div>
          </div>

          <!-- Database Selection Field -->
          <div class="form-field" *ngIf="dbList.length > 0">
            <ejs-dropdownlist 
              #dbDropdown
              [dataSource]="dbDataSource"
              [fields]="dbFields"
              [(value)]="dbSelected"
              (change)="onDbChange($event)"
              placeholder="เลือกฐานข้อมูล"
              floatLabelType="Never"
              class="e-bigger login-input">
            </ejs-dropdownlist>
          </div>

          <!-- Remember Me & Forgot Password -->
          <div class="form-options">
            <ejs-checkbox 
              cssClass="e-bigger login-checkbox" 
              label="จดจำฉัน" 
              [(ngModel)]="rememberMe"
              [ngModelOptions]="{standalone: true}"
              aria-label="remember me" 
              role="checkbox">
            </ejs-checkbox>
            <a 
              href="javascript:void(0);" 
              (click)="onForgotPassword()"
              class="forgot-password-link thai-text" 
              aria-label="forgot password" 
              role="link">
              ลืมรหัสผ่าน?
            </a>
          </div>

          <!-- Error Message -->
          <div *ngIf="errorMessage" class="error-message">
            <div class="error-message-content">
              <span class="e-icons e-error" aria-hidden="true"></span>
              <p class="thai-text">{{ errorMessage }}</p>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="form-submit">
            <button 
              ejs-button 
              class="login-button e-primary" 
              [content]="loading ? 'กำลังเข้าสู่ระบบ...' : 'เข้าสู่ระบบด้วยระบบ HR'"
              type="submit" 
              [disabled]="loading || !username || !password"
              aria-label="sign in" 
              role="button">
            </button>
          </div>
        </form>

        <!-- Terms and Conditions -->
        <div class="login-terms">
          <p class="login-terms-text thai-text">
            โดยการสร้างบัญชี คุณยอมรับ
            <a href="#" class="terms-link">ข้อกำหนดการให้บริการ</a>
            และ
            <a href="#" class="terms-link">นโยบายความเป็นส่วนตัวและคุกกี้</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
