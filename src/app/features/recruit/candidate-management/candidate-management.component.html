<div class="candidate-management-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Candidate Management</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <!-- Search and Filters -->
      <div class="search-filters">
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Search</mat-label>
          <input matInput [(ngModel)]="searchTerm" (ngModelChange)="onSearch()" placeholder="Search by name, email, phone...">
          <mat-icon matPrefix>search</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Status</mat-label>
          <mat-select [(ngModel)]="selectedStatus" (selectionChange)="onFilterChange()">
            <mat-option *ngFor="let status of statuses" [value]="status.value">
              {{ status.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Position</mat-label>
          <mat-select [(ngModel)]="selectedPosition" (selectionChange)="onFilterChange()">
            <mat-option value="">All Positions</mat-option>
            <mat-option *ngFor="let position of positions" [value]="position">
              {{ position }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- Candidates List -->
      <div *ngIf="loading; else candidatesList" class="loading-container">
        <mat-spinner></mat-spinner>
      </div>

      <ng-template #candidatesList>
        <div class="candidates-list" *ngIf="filteredCandidates.length > 0; else noCandidates">
          <app-data-table
            [columns]="candidateColumns"
            [data]="filteredCandidates"
            [pageSize]="15"
            [showActions]="true"
            (actionClick)="onActionClick($event)">
          </app-data-table>
        </div>

        <ng-template #noCandidates>
          <div class="no-data">
            <mat-icon>people</mat-icon>
            <p>No candidates found. Try adjusting your filters.</p>
          </div>
        </ng-template>
      </ng-template>
    </mat-card-content>
  </mat-card>
</div>

