<div class="flex flex-col h-screen overflow-hidden">
  <!-- Header -->
  <header class="sticky top-0 z-[100] px-4 md:px-6 py-4 glass dark:glass-dark theme-gemini:glass-gemini border-b border-black/10 dark:border-white/10 shadow-sm">
    <div class="flex justify-between items-center gap-4">
      <div class="flex items-center gap-4">
        <button
          type="button"
          class="flex items-center justify-center w-10 h-10 border-none bg-transparent rounded-lg cursor-pointer transition-smooth
                 hover:bg-black/5 dark:hover:bg-white/10 theme-gemini:hover:bg-blue-500/10
                 focus:outline-none focus:ring-2 focus:ring-primary-500/20"
          (click)="toggleSidebar()"
          [attr.aria-label]="'Toggle sidebar'">
          <span class="material-icons text-2xl text-gray-900 dark:text-gray-100">menu</span>
        </button>
        <h1 class="text-xl md:text-base font-semibold text-gray-900 dark:text-gray-100 m-0">Component Demo Showcase</h1>
      </div>
      <div class="flex items-center gap-4">
        <!-- Language Switcher -->
        <div class="flex items-center gap-2">
          <select
            [value]="currentLang"
            (change)="changeLanguage($any($event.target).value)"
            class="px-3 py-2 border border-black/10 dark:border-white/10 rounded-md
                   glass-weak dark:glass-dark-weak theme-gemini:glass-gemini-weak
                   text-gray-900 dark:text-gray-100 text-sm cursor-pointer transition-smooth
                   hover:glass dark:hover:glass-dark theme-gemini:hover:glass-gemini
                   focus:outline-none focus:ring-2 focus:ring-primary-500/20">
            <option *ngFor="let lang of availableLangs" [value]="lang.code">
              {{ lang.flag }} {{ lang.name }}
            </option>
          </select>
        </div>

        <!-- Theme Mode Switcher -->
        <div class="flex items-center gap-2 md:flex-col md:gap-1">
          <select
            [value]="currentTheme.mode"
            (change)="changeThemeMode($any($event.target).value)"
            class="px-3 py-2 md:px-2 md:py-1.5 md:text-xs border border-black/10 dark:border-white/10 rounded-md
                   glass-weak dark:glass-dark-weak theme-gemini:glass-gemini-weak
                   text-gray-900 dark:text-gray-100 text-sm cursor-pointer transition-smooth
                   hover:glass dark:hover:glass-dark theme-gemini:hover:glass-gemini
                   focus:outline-none focus:ring-2 focus:ring-primary-500/20">
            <option *ngFor="let mode of themeModes" [value]="mode.value">
              {{ mode.icon }} {{ mode.label }}
            </option>
          </select>

          <select
            [value]="currentTheme.color"
            (change)="changeThemeColor($any($event.target).value)"
            class="px-3 py-2 md:px-2 md:py-1.5 md:text-xs border border-black/10 dark:border-white/10 rounded-md
                   glass-weak dark:glass-dark-weak theme-gemini:glass-gemini-weak
                   text-gray-900 dark:text-gray-100 text-sm cursor-pointer transition-smooth
                   hover:glass dark:hover:glass-dark theme-gemini:hover:glass-gemini
                   focus:outline-none focus:ring-2 focus:ring-primary-500/20">
            <option *ngFor="let color of themeColors" [value]="color.value">
              {{ color.label }}
            </option>
          </select>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="flex flex-1 overflow-hidden">
    <!-- Sidebar -->
    <ejs-sidebar
      #sidebar
      [width]="'280px'"
      [position]="'Left'"
      [isOpen]="false"
      [closeOnDocumentClick]="true"
      (close)="closeSidebar()">
      <div class="flex flex-col h-full">
        <div class="flex justify-between items-center px-6 py-4 border-b border-black/10 dark:border-white/10">
          <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100 m-0">Components</h2>
          <button
            type="button"
            class="flex items-center justify-center w-8 h-8 border-none bg-transparent rounded-md cursor-pointer transition-smooth
                   hover:bg-black/5 dark:hover:bg-white/10 theme-gemini:hover:bg-blue-500/10
                   focus:outline-none focus:ring-2 focus:ring-primary-500/20"
            (click)="closeSidebar()"
            aria-label="Close sidebar">
            <span class="material-icons text-xl text-gray-900 dark:text-gray-100">close</span>
          </button>
        </div>

        <div class="flex-1 overflow-y-auto py-4">
          <div *ngFor="let group of componentGroups" class="mb-6 last:mb-0">
            <div class="flex items-center gap-2 px-6 py-3 mb-2">
              <span class="text-xl">{{ group.icon }}</span>
              <h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100 opacity-70 m-0 uppercase tracking-wider">
                {{ group.name }}
              </h3>
            </div>
            <ul class="list-none p-0 m-0">
              <li *ngFor="let component of group.components" class="my-1">
                <a
                  (click)="navigateToComponent(component.route)"
                  class="flex items-center gap-3 px-6 py-3 text-gray-900 dark:text-gray-100 no-underline transition-smooth cursor-pointer
                         border-l-[3px] border-transparent
                         hover:bg-black/5 dark:hover:bg-white/5 hover:border-primary-500
                         theme-gemini:hover:bg-blue-500/10 theme-gemini:hover:border-blue-400
                         focus:outline-none focus:ring-2 focus:ring-primary-500/20"
                  [ngClass]="{
                    'bg-blue-500/10 dark:bg-blue-500/20 border-primary-500 font-medium': isActiveRoute(component.route),
                    'theme-gemini:bg-blue-500/20 theme-gemini:border-blue-400': isActiveRoute(component.route)
                  }">
                  <span class="text-lg">{{ component.icon }}</span>
                  <span class="text-sm">{{ component.name }}</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </ejs-sidebar>

    <!-- Content Area -->
    <div class="flex-1 overflow-y-auto p-8 md:p-4 bg-gray-50 dark:bg-gray-900 theme-gemini:bg-black">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

