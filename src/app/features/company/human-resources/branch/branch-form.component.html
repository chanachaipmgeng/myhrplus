<app-modal
  [show]="isOpen"
  [title]="(isEditMode ? 'features.company.entities.branch.edit' : 'features.company.entities.branch.add') | translate"
  (closeEvent)="onClose()"
  (confirmEvent)="onSubmit()">
  
  <form [formGroup]="form" class="space-y-4 p-2 max-h-[80vh] overflow-y-auto">
    <!-- Basic Information -->
    <div class="border-b dark:border-slate-700 pb-4 mb-4">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-200 mb-4">
        {{ 'features.company.entities.branch.section.basic' | translate }}
      </h3>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'features.company.entities.branch.branchId' | translate"
          formControlName="branchid"
          [required]="true"
          [readonly]="isEditMode"
          [errorMessage]="'features.company.entities.branch.branchIdRequired' | translate"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.companyId' | translate"
          formControlName="companyid"
          [required]="true"
          [readonly]="true">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.headCompany' | translate"
          formControlName="headcompany"
          [required]="true"
          [errorMessage]="'features.company.entities.branch.headCompanyRequired' | translate"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.tdesc' | translate"
          formControlName="tdesc"
          [required]="true"
          [errorMessage]="'features.company.entities.branch.tdescRequired' | translate"
          maxLength="200">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.edesc' | translate"
          formControlName="edesc"
          [required]="true"
          [errorMessage]="'features.company.entities.branch.edescRequired' | translate"
          maxLength="200">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.comType' | translate"
          formControlName="com_type"
          maxLength="3">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.branchNo' | translate"
          formControlName="branch_no"
          maxLength="10">
        </app-glass-input>
      </div>
    </div>

    <!-- Tax Information -->
    <div class="border-b dark:border-slate-700 pb-4 mb-4">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-200 mb-4">
        {{ 'features.company.entities.branch.section.tax' | translate }}
      </h3>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'features.company.entities.branch.taxId' | translate"
          formControlName="taxid"
          maxLength="13">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.taxId2' | translate"
          formControlName="taxid2"
          maxLength="13">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.taxBranchId' | translate"
          formControlName="tax_branchid"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.taxSignName' | translate"
          formControlName="tax_sign_name"
          maxLength="100">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.taxSignPos' | translate"
          formControlName="tax_sign_pos"
          maxLength="50">
        </app-glass-input>
      </div>
    </div>

    <!-- Social Security Information -->
    <div class="border-b dark:border-slate-700 pb-4 mb-4">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-200 mb-4">
        {{ 'features.company.entities.branch.section.socialSecurity' | translate }}
      </h3>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'features.company.entities.branch.socBranchId' | translate"
          formControlName="soc_branchid"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.socialCode' | translate"
          formControlName="social_code"
          maxLength="20">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.socSignName' | translate"
          formControlName="soc_sign_name"
          maxLength="100">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.socSignPos' | translate"
          formControlName="soc_sign_pos"
          maxLength="50">
        </app-glass-input>
      </div>
    </div>

    <!-- Address (Thai) -->
    <div class="border-b dark:border-slate-700 pb-4 mb-4">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-200 mb-4">
        {{ 'features.company.entities.branch.section.addressThai' | translate }}
      </h3>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'features.company.entities.branch.taddr' | translate"
          formControlName="taddr"
          maxLength="20">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.tvillage' | translate"
          formControlName="tvillage"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.troomNo' | translate"
          formControlName="troom_no"
          maxLength="20">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.tfloor' | translate"
          formControlName="tfloor"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.tsoi' | translate"
          formControlName="tsoi"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.tmoo' | translate"
          formControlName="tmoo"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.troad' | translate"
          formControlName="troad"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.tsubdistrict' | translate"
          formControlName="tsubdistrict"
          maxLength="50">
        </app-glass-input>
      </div>
    </div>

    <!-- Address (English) -->
    <div class="border-b dark:border-slate-700 pb-4 mb-4">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-200 mb-4">
        {{ 'features.company.entities.branch.section.addressEnglish' | translate }}
      </h3>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'features.company.entities.branch.eaddr' | translate"
          formControlName="eaddr"
          maxLength="20">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.evillage' | translate"
          formControlName="evillage"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.eroomNo' | translate"
          formControlName="eroom_no"
          maxLength="20">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.efloor' | translate"
          formControlName="efloor"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.esoi' | translate"
          formControlName="esoi"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.emoo' | translate"
          formControlName="emoo"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.eroad' | translate"
          formControlName="eroad"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.esubdistrict' | translate"
          formControlName="esubdistrict"
          maxLength="50">
        </app-glass-input>
      </div>
    </div>

    <!-- Location & Contact -->
    <div class="border-b dark:border-slate-700 pb-4 mb-4">
      <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-200 mb-4">
        {{ 'features.company.entities.branch.section.contact' | translate }}
      </h3>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'features.company.entities.branch.zipcode' | translate"
          formControlName="zipcode"
          maxLength="5">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.districtId' | translate"
          formControlName="districtid"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.tel' | translate"
          formControlName="tel"
          type="tel"
          maxLength="30">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.fax' | translate"
          formControlName="fax"
          type="tel"
          maxLength="30">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.website' | translate"
          formControlName="website"
          type="url"
          maxLength="100">
        </app-glass-input>
      </div>
    </div>

    <!-- Other Information -->
    <div>
      <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-200 mb-4">
        {{ 'features.company.entities.branch.section.other' | translate }}
      </h3>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'features.company.entities.branch.brandTdesc' | translate"
          formControlName="brand_tdesc"
          maxLength="200">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.brandEdesc' | translate"
          formControlName="brand_edesc"
          maxLength="200">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.consolidate' | translate"
          formControlName="consolidate"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'features.company.entities.branch.branchTax' | translate"
          formControlName="branch_tax"
          maxLength="10">
        </app-glass-input>
      </div>
    </div>
  </form>

</app-modal>

