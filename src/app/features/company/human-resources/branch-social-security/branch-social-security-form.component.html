<app-modal
  [show]="isOpen"
  [title]="(isEditMode ? 'company.branchSocialSecurity.edit' : 'company.branchSocialSecurity.add') | translate"
  (closeEvent)="onClose()"
  (confirmEvent)="onSubmit()">
  
  <form [formGroup]="form" class="space-y-4 p-2">
    <!-- Branch No (PK) -->
    <app-glass-input
      [label]="'company.branchSocialSecurity.branchNo' | translate"
      formControlName="branch_no"
      [required]="true"
      [readonly]="isEditMode"
      [errorMessage]="'company.branchSocialSecurity.branchNoRequired' | translate"
      maxLength="10">
    </app-glass-input>

    <!-- Company ID (Readonly) -->
    <app-glass-input
      [label]="'company.branchSocialSecurity.companyId' | translate"
      formControlName="companyid"
      [required]="true"
      [readonly]="true">
    </app-glass-input>

    <!-- Thai Description -->
    <app-glass-input
      [label]="'company.branchSocialSecurity.tdesc' | translate"
      formControlName="tdesc"
      [required]="true"
      [errorMessage]="'company.branchSocialSecurity.tdescRequired' | translate"
      maxLength="100">
    </app-glass-input>

    <!-- English Description -->
    <app-glass-input
      [label]="'company.branchSocialSecurity.edesc' | translate"
      formControlName="edesc"
      [required]="true"
      [errorMessage]="'company.branchSocialSecurity.tdescRequired' | translate"
      maxLength="100">
    </app-glass-input>

    <!-- Divider: Thai Address -->
    <div class="border-t border-gray-200 dark:border-slate-700 pt-4 mt-4">
      <h4 class="text-sm font-semibold text-gray-700 dark:text-slate-300 mb-3">{{ 'company.branchSocialSecurity.addressThai' | translate }}</h4>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'company.branchSocialSecurity.village' | translate"
          formControlName="tvillage"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.roomNo' | translate"
          formControlName="troom_no"
          maxLength="20">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.floor' | translate"
          formControlName="tfloor"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.address' | translate"
          formControlName="taddr"
          maxLength="20">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.soi' | translate"
          formControlName="tsoi"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.moo' | translate"
          formControlName="tmoo"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.road' | translate"
          formControlName="troad"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.subdistrict' | translate"
          formControlName="tsubdistrict"
          maxLength="50">
        </app-glass-input>
      </div>
    </div>

    <!-- Divider: English Address -->
    <div class="border-t border-gray-200 dark:border-slate-700 pt-4 mt-4">
      <h4 class="text-sm font-semibold text-gray-700 dark:text-slate-300 mb-3">{{ 'company.branchSocialSecurity.addressEng' | translate }}</h4>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="('company.branchSocialSecurity.village' | translate) + ' (Eng.)'"
          formControlName="evillage"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="('company.branchSocialSecurity.roomNo' | translate) + ' (Eng.)'"
          formControlName="eroom_no"
          maxLength="20">
        </app-glass-input>

        <app-glass-input
          [label]="('company.branchSocialSecurity.floor' | translate) + ' (Eng.)'"
          formControlName="efloor"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="('company.branchSocialSecurity.address' | translate) + ' (Eng.)'"
          formControlName="eaddr"
          maxLength="20">
        </app-glass-input>

        <app-glass-input
          [label]="('company.branchSocialSecurity.soi' | translate) + ' (Eng.)'"
          formControlName="esoi"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="('company.branchSocialSecurity.moo' | translate) + ' (Eng.)'"
          formControlName="emoo"
          maxLength="10">
        </app-glass-input>

        <app-glass-input
          [label]="('company.branchSocialSecurity.road' | translate) + ' (Eng.)'"
          formControlName="eroad"
          maxLength="50">
        </app-glass-input>

        <app-glass-input
          [label]="('company.branchSocialSecurity.subdistrict' | translate) + ' (Eng.)'"
          formControlName="esubdistrict"
          maxLength="50">
        </app-glass-input>
      </div>
    </div>

    <!-- Location -->
    <div class="border-t border-gray-200 dark:border-slate-700 pt-4 mt-4">
      <h4 class="text-sm font-semibold text-gray-700 dark:text-slate-300 mb-3">{{ 'company.branchSocialSecurity.location' | translate }}</h4>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'company.branchSocialSecurity.zipcode' | translate"
          formControlName="zipcode"
          [readonly]="true"
          maxLength="5">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.districtId' | translate"
          formControlName="districtid"
          [readonly]="true"
          maxLength="10">
        </app-glass-input>
      </div>
    </div>

    <!-- Contact -->
    <div class="border-t border-gray-200 dark:border-slate-700 pt-4 mt-4">
      <h4 class="text-sm font-semibold text-gray-700 dark:text-slate-300 mb-3">{{ 'company.branchSocialSecurity.contact' | translate }}</h4>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'company.branchSocialSecurity.tel' | translate"
          formControlName="tel"
          type="tel"
          maxLength="10"
          [errorMessage]="'company.branchSocialSecurity.error.numbersOnly' | translate">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.fax' | translate"
          formControlName="fax"
          type="tel"
          maxLength="10"
          [errorMessage]="'company.branchSocialSecurity.error.numbersOnly' | translate">
        </app-glass-input>
      </div>
    </div>

    <!-- Social Security -->
    <div class="border-t border-gray-200 dark:border-slate-700 pt-4 mt-4">
      <h4 class="text-sm font-semibold text-gray-700 dark:text-slate-300 mb-3">{{ 'company.branchSocialSecurity.socialSecurity' | translate }}</h4>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <app-glass-input
          [label]="'company.branchSocialSecurity.socialCode' | translate"
          formControlName="social_code"
          maxLength="13"
          [errorMessage]="'company.branchSocialSecurity.error.numbersOnly' | translate">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.socialSubCode' | translate"
          formControlName="social_sub_code"
          maxLength="6"
          [errorMessage]="'company.branchSocialSecurity.error.numbersOnly' | translate">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.socSignName' | translate"
          formControlName="soc_sign_name"
          maxLength="100">
        </app-glass-input>

        <app-glass-input
          [label]="'company.branchSocialSecurity.socSignPos' | translate"
          formControlName="soc_sign_pos"
          maxLength="50">
        </app-glass-input>
      </div>
    </div>
  </form>

</app-modal>

