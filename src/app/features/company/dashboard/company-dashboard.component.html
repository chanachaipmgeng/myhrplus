<app-page-header 
  title="Company Module Dashboard" 
  subtitle="ข้อมูลองค์กร">
</app-page-header>

<div class="p-5 bg-gray-50 dark:bg-slate-900 min-h-screen transition-colors duration-300">
  <!-- Navigation Cards Section -->
  <div class="mb-8">
    <h2 class="text-xl font-semibold text-gray-800 dark:text-slate-100 mb-4 transition-colors duration-300">เมนูหลัก</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      <!-- Human Resources Card -->
      <div class="bg-white dark:bg-slate-800 rounded-xl shadow-sm dark:shadow-slate-900/50 p-6 hover:shadow-md dark:hover:shadow-slate-700/50 transition-all duration-300 cursor-pointer border border-gray-100 dark:border-slate-700 group"
           [routerLink]="['human-resources']">
        <div class="w-12 h-12 bg-blue-50 dark:bg-blue-900/30 rounded-lg flex items-center justify-center mb-4 text-blue-600 dark:text-blue-400 transition-colors duration-300 group-hover:scale-110">
          <i class="material-icons text-xl">business</i>
        </div>
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-2 transition-colors duration-300">Human Resources</h3>
        <p class="text-sm text-gray-500 dark:text-slate-400 mb-4 transition-colors duration-300">จัดการข้อมูลบริษัท, สาขา, โครงสร้างองค์กร และ JD</p>
        <div class="flex items-center text-blue-600 dark:text-blue-400 text-sm font-medium transition-colors duration-300">
          เข้าสู่เมนู <i class="material-icons text-sm ml-2 group-hover:translate-x-1 transition-transform duration-300">arrow_forward</i>
        </div>
      </div>

      <!-- Approve Setup Card -->
      <div class="bg-white dark:bg-slate-800 rounded-xl shadow-sm dark:shadow-slate-900/50 p-6 hover:shadow-md dark:hover:shadow-slate-700/50 transition-all duration-300 cursor-pointer border border-gray-100 dark:border-slate-700 group"
           [routerLink]="['approve']">
        <div class="w-12 h-12 bg-green-50 dark:bg-green-900/30 rounded-lg flex items-center justify-center mb-4 text-green-600 dark:text-green-400 transition-colors duration-300 group-hover:scale-110">
          <i class="material-icons text-xl">check_circle</i>
        </div>
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-2 transition-colors duration-300">Approve Setup</h3>
        <p class="text-sm text-gray-500 dark:text-slate-400 mb-4 transition-colors duration-300">ตั้งค่าสายการอนุมัติ และสิทธิ์การตรวจสอบต่างๆ</p>
        <div class="flex items-center text-green-600 dark:text-green-400 text-sm font-medium transition-colors duration-300">
          เข้าสู่เมนู <i class="material-icons text-sm ml-2 group-hover:translate-x-1 transition-transform duration-300">arrow_forward</i>
        </div>
      </div>

      <!-- ESS Setup Card -->
      <div class="bg-white dark:bg-slate-800 rounded-xl shadow-sm dark:shadow-slate-900/50 p-6 hover:shadow-md dark:hover:shadow-slate-700/50 transition-all duration-300 cursor-pointer border border-gray-100 dark:border-slate-700 group"
           [routerLink]="['ess-setup']">
        <div class="w-12 h-12 bg-purple-50 dark:bg-purple-900/30 rounded-lg flex items-center justify-center mb-4 text-purple-600 dark:text-purple-400 transition-colors duration-300 group-hover:scale-110">
          <i class="material-icons text-xl">phone_android</i>
        </div>
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-2 transition-colors duration-300">ESS Setup</h3>
        <p class="text-sm text-gray-500 dark:text-slate-400 mb-4 transition-colors duration-300">จัดการข่าว, กิจกรรม, Banner และเนื้อหาบน ESS</p>
        <div class="flex items-center text-purple-600 dark:text-purple-400 text-sm font-medium transition-colors duration-300">
          เข้าสู่เมนู <i class="material-icons text-sm ml-2 group-hover:translate-x-1 transition-transform duration-300">arrow_forward</i>
        </div>
      </div>

      <!-- Reports Card -->
      <div class="bg-white dark:bg-slate-800 rounded-xl shadow-sm dark:shadow-slate-900/50 p-6 hover:shadow-md dark:hover:shadow-slate-700/50 transition-all duration-300 cursor-pointer border border-gray-100 dark:border-slate-700 group"
           [routerLink]="['reports']">
        <div class="w-12 h-12 bg-orange-50 dark:bg-orange-900/30 rounded-lg flex items-center justify-center mb-4 text-orange-600 dark:text-orange-400 transition-colors duration-300 group-hover:scale-110">
          <i class="material-icons text-xl">assessment</i>
        </div>
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-2 transition-colors duration-300">Reports</h3>
        <p class="text-sm text-gray-500 dark:text-slate-400 mb-4 transition-colors duration-300">รายงานสรุปข้อมูลบริษัทและอัตรากำลัง</p>
        <div class="flex items-center text-orange-600 dark:text-orange-400 text-sm font-medium transition-colors duration-300">
          เข้าสู่เมนู <i class="material-icons text-sm ml-2 group-hover:translate-x-1 transition-transform duration-300">arrow_forward</i>
        </div>
      </div>
    </div>
  </div>

  <!-- Statistics Cards -->
  <div class="mb-8">
    <h2 class="text-xl font-semibold text-gray-800 dark:text-slate-100 mb-4 transition-colors duration-300">สถิติองค์กร</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-5">
      <div class="bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 text-white p-5 rounded-lg shadow-md dark:shadow-slate-900/50 text-center hover:scale-105 transition-transform duration-300">
        <div class="text-4xl font-bold mb-2">{{ statistics.branches }}</div>
        <div class="text-sm opacity-90">จำนวนสาขา</div>
      </div>
      <div class="bg-gradient-to-br from-pink-500 to-red-500 dark:from-pink-600 dark:to-red-600 text-white p-5 rounded-lg shadow-md dark:shadow-slate-900/50 text-center hover:scale-105 transition-transform duration-300">
        <div class="text-4xl font-bold mb-2">{{ statistics.divisions }}</div>
        <div class="text-sm opacity-90">จำนวนฝ่าย</div>
      </div>
      <div class="bg-gradient-to-br from-blue-400 to-cyan-400 dark:from-blue-500 dark:to-cyan-500 text-white p-5 rounded-lg shadow-md dark:shadow-slate-900/50 text-center hover:scale-105 transition-transform duration-300">
        <div class="text-4xl font-bold mb-2">{{ statistics.departments }}</div>
        <div class="text-sm opacity-90">จำนวนแผนก</div>
      </div>
      <div class="bg-gradient-to-br from-green-400 to-teal-400 dark:from-green-500 dark:to-teal-500 text-white p-5 rounded-lg shadow-md dark:shadow-slate-900/50 text-center hover:scale-105 transition-transform duration-300">
        <div class="text-4xl font-bold mb-2">{{ statistics.positions }}</div>
        <div class="text-sm opacity-90">จำนวนตำแหน่ง</div>
      </div>
      <div class="bg-gradient-to-br from-yellow-400 to-orange-400 dark:from-yellow-500 dark:to-orange-500 text-white p-5 rounded-lg shadow-md dark:shadow-slate-900/50 text-center hover:scale-105 transition-transform duration-300">
        <div class="text-4xl font-bold mb-2">{{ statistics.locations }}</div>
        <div class="text-sm opacity-90">สถานที่ทำงาน</div>
      </div>
    </div>
  </div>

  <!-- Charts Section -->
  <div class="mb-8">
    <h2 class="text-xl font-semibold text-gray-800 dark:text-slate-100 mb-4 transition-colors duration-300">กราฟและสถิติ</h2>
    
    <!-- Charts Row 1 -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-5 mb-5">
      <!-- Pie Chart: Organization Structure -->
      <div class="bg-white dark:bg-slate-800 p-5 rounded-lg shadow-sm dark:shadow-slate-900/50 border border-gray-100 dark:border-slate-700 transition-colors duration-300">
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-5 transition-colors duration-300">โครงสร้างองค์กรตามฝ่าย</h3>
        <div echarts [options]="divisionPieChartOption" class="w-full" style="height: 400px;"></div>
      </div>
      
      <!-- Bar Chart: Branches -->
      <div class="bg-white dark:bg-slate-800 p-5 rounded-lg shadow-sm dark:shadow-slate-900/50 border border-gray-100 dark:border-slate-700 transition-colors duration-300">
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-5 transition-colors duration-300">จำนวนพนักงานตามสาขา</h3>
        <div echarts [options]="branchBarChartOption" class="w-full" style="height: 400px;"></div>
      </div>
    </div>

    <!-- Charts Row 2 -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-5 mb-5">
      <!-- Bar Chart: Departments -->
      <div class="bg-white dark:bg-slate-800 p-5 rounded-lg shadow-sm dark:shadow-slate-900/50 border border-gray-100 dark:border-slate-700 transition-colors duration-300">
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-5 transition-colors duration-300">จำนวนพนักงานตามแผนก</h3>
        <div echarts [options]="departmentBarChartOption" class="w-full" style="height: 400px;"></div>
      </div>
      
      <!-- Bar Chart: Positions -->
      <div class="bg-white dark:bg-slate-800 p-5 rounded-lg shadow-sm dark:shadow-slate-900/50 border border-gray-100 dark:border-slate-700 transition-colors duration-300">
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-5 transition-colors duration-300">จำนวนตำแหน่งตามระดับ</h3>
        <div echarts [options]="positionBarChartOption" class="w-full" style="height: 400px;"></div>
      </div>
    </div>

    <!-- Charts Row 3 -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-5 mb-5">
      <!-- Tree Map: Organization Hierarchy -->
      <div class="bg-white dark:bg-slate-800 p-5 rounded-lg shadow-sm dark:shadow-slate-900/50 border border-gray-100 dark:border-slate-700 transition-colors duration-300">
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-5 transition-colors duration-300">โครงสร้างองค์กรแบบ Tree Map</h3>
        <div echarts [options]="orgTreeMapChartOption" class="w-full" style="height: 400px;"></div>
      </div>
      
      <!-- Bar Chart: Work Locations -->
      <div class="bg-white dark:bg-slate-800 p-5 rounded-lg shadow-sm dark:shadow-slate-900/50 border border-gray-100 dark:border-slate-700 transition-colors duration-300">
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-5 transition-colors duration-300">การกระจายสถานที่ทำงาน</h3>
        <div echarts [options]="locationBarChartOption" class="w-full" style="height: 400px;"></div>
      </div>
    </div>

    <!-- Charts Row 4 -->
    <div class="grid grid-cols-1 gap-5 mb-5">
      <!-- Sankey Diagram: Organization Flow -->
      <div class="bg-white dark:bg-slate-800 p-5 rounded-lg shadow-sm dark:shadow-slate-900/50 border border-gray-100 dark:border-slate-700 transition-colors duration-300">
        <h3 class="text-lg font-semibold text-gray-800 dark:text-slate-100 mb-5 transition-colors duration-300">สายบังคับบัญชา (Organization Flow)</h3>
        <div echarts [options]="sankeyChartOption" class="w-full" style="height: 500px;"></div>
      </div>
    </div>
  </div>
</div>
