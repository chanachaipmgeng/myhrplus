<ng-container *ngIf="useGlassCard; else noGlassCard">
  <app-glass-card padding="p-5 md:p-6" [customClass]="'mb-6 md:mb-8 ' + customClass" [animate]="'fade-in'">
    <ng-container *ngTemplateOutlet="headerContent"></ng-container>
  </app-glass-card>
</ng-container>

<ng-template #noGlassCard>
  <div [class]="'mb-6 md:mb-8 ' + customClass">
    <ng-container *ngTemplateOutlet="headerContent"></ng-container>
  </div>
</ng-template>

<ng-template #headerContent>
  <div class="flex flex-col gap-4">
    <!-- Breadcrumbs -->
    <app-breadcrumbs *ngIf="showBreadcrumbs"></app-breadcrumbs>

    <!-- Title Section -->
    <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
      <div class="flex-1">
        <!-- Icon and Title Row -->
        <div class="flex items-center gap-3 mb-2" *ngIf="icon || title">
          <!-- Icon -->
          <div 
            *ngIf="icon"
            [class]="'w-10 h-10 md:w-12 md:h-12 rounded-xl flex items-center justify-center shadow-lg ' + (iconGradient ? 'bg-gradient-to-br ' + iconGradient + ' dark:from-opacity-90 dark:to-opacity-90' : 'bg-gray-100 dark:bg-gray-800')">
            <app-icon 
              [name]="icon" 
              [size]="iconSize" 
              [color]="iconColor || 'text-white'">
            </app-icon>
          </div>
          
          <!-- Title and Subtitle -->
          <div class="flex-1">
            <h1 
              [class]="'text-xl md:text-2xl lg:text-3xl font-bold thai-text mb-0 ' + (titleGradient ? 'bg-gradient-to-r ' + titleGradient + ' bg-clip-text text-transparent' : 'text-gray-800 dark:text-gray-100')">
              <span *ngIf="translateTitle">{{ title | translate }}</span>
              <span *ngIf="!translateTitle">{{ title }}</span>
            </h1>
            <p *ngIf="subtitle" class="text-xs md:text-sm text-gray-600 dark:text-gray-400 thai-text mt-1">
              <span *ngIf="translateSubtitle">{{ subtitle | translate }}</span>
              <span *ngIf="!translateSubtitle">{{ subtitle }}</span>
            </p>
          </div>
        </div>

        <!-- Description -->
        <p *ngIf="description" class="text-sm md:text-base text-gray-600 dark:text-gray-300 thai-text mt-2">
          <span *ngIf="translateDescription">{{ description | translate }}</span>
          <span *ngIf="!translateDescription">{{ description }}</span>
        </p>

        <!-- Welcome Message -->
        <p *ngIf="welcomeMessage" class="text-sm md:text-base text-gray-600 dark:text-gray-300 thai-text mt-2">
          <span *ngIf="translateWelcomeMessage">{{ welcomeMessage | translate }}</span>
          <span *ngIf="!translateWelcomeMessage">{{ welcomeMessage }}</span>
        </p>
      </div>

      <!-- User Info Badges -->
      <div *ngIf="userInfo && userInfo.length > 0" class="flex flex-wrap gap-2">
        <div 
          *ngFor="let info of userInfo"
          class="flex items-center gap-2 px-3 md:px-4 py-2 bg-primary/10 dark:bg-primary/10 rounded-xl text-xs md:text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap">
          <app-icon 
            *ngIf="info.icon"
            [name]="info.icon" 
            size="sm" 
            [color]="info.iconColor || 'text-primary dark:text-primary'">
          </app-icon>
          <span class="thai-text">{{ info.label }}: {{ info.value }}</span>
        </div>
      </div>

      <!-- Actions -->
      <div *ngIf="actions && actions.length > 0" class="flex flex-wrap gap-2">
        <app-glass-button
          *ngFor="let action of actions"
          type="button"
          variant="secondary"
          size="md"
          [ariaLabel]="action.label"
          [disabled]="action.disabled || false"
          (clicked)="action.onClick?.()">
          <app-icon *ngIf="action.icon" [name]="action.icon" size="sm" class="mr-2"></app-icon>
          {{ action.label }}
        </app-glass-button>
      </div>
    </div>
  </div>
</ng-template>













