/* ============================================
   Pivot Table Component Styles
   ============================================ */

:host {
  @apply block w-full;
}

/* Syncfusion PivotView customization - Using ::ng-deep for third-party library styles */
:host ::ng-deep {
  .e-pivotview {
    @apply bg-transparent border-none;

    .e-pivotview-control-wrapper {
      @apply bg-transparent;
    }

    /* Toolbar */
    .e-toolbar {
      @apply glass-weak dark:glass-dark-weak rounded-md p-2 mb-4 border border-white/20 dark:border-slate-700/30;

      .e-toolbar-item {
        .e-btn {
          @apply glass-weak dark:glass-dark-weak text-gray-700 dark:text-gray-300 transition-smooth focus:ring-2;
          &:hover {
            background-color: rgba(var(--primary-rgb), 0.1);
            border-color: rgba(var(--primary-rgb), 0.3);
            color: rgb(var(--primary-rgb));
          }
          &:focus {
            --tw-ring-color: rgba(var(--primary-rgb), 0.2);
          }
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);

          .dark & {
            background: rgba(15, 23, 42, 0.3);
            border-color: rgba(51, 65, 85, 0.3);
          }
        }
      }
    }

    body.theme-myhr & .e-toolbar {
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(var(--primary-rgb), 0.2), 0 0 30px rgba(var(--primary-rgb), 0.1);
    }

    /* Grouping Bar */
    .e-grouping-bar {
      @apply glass-weak dark:glass-dark-weak rounded-md p-3 mb-4 border border-white/10 dark:border-slate-700/20;

      .e-grouping-bar-filters,
      .e-grouping-bar-rows,
      .e-grouping-bar-columns,
      .e-grouping-bar-values {
        .e-grouping-bar-item {
          @apply glass-weak dark:glass-dark-weak rounded-sm px-3 py-2 m-1 transition-smooth;
          &:hover {
            background-color: rgba(var(--primary-rgb), 0.1);
            border-color: rgba(var(--primary-rgb), 0.3);
          }
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);

          .dark & {
            background: rgba(15, 23, 42, 0.3);
            border-color: rgba(51, 65, 85, 0.3);
          }
        }
      }
    }

    body.theme-myhr & .e-grouping-bar {
      background: rgba(var(--primary-rgb), 0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    /* Grid */
    .e-grid {
      @apply bg-transparent rounded-md border border-white/10 dark:border-slate-700/30;

      .e-gridheader {
        @apply glass-weak dark:glass-dark-weak;

        .e-headercell {
          @apply bg-transparent border-b border-white/10 dark:border-slate-700/30 text-gray-700 dark:text-gray-300 font-semibold;
        }
      }

      .e-gridcontent {
        .e-row {
          @apply bg-transparent border-b border-white/5 dark:border-slate-700/10 transition-smooth;
          &:hover {
            background-color: rgba(var(--primary-rgb), 0.05);
          }

          .e-rowcell {
            @apply bg-transparent text-gray-900 dark:text-gray-100;
          }
        }

        .e-summaryrow {
          @apply bg-white/5 dark:bg-slate-900/20 font-semibold;
        }
      }
    }

    body.theme-myhr & .e-grid {
      background: rgba(var(--primary-rgb), 0.05);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
  }
}

/* Responsive */
@media (max-width: 640px) {
  :host ::ng-deep .e-pivotview {
    .e-toolbar {
      @apply p-1;

      .e-toolbar-item {
        .e-btn {
          @apply px-2 py-1 text-xs;
        }
      }
    }

    .e-grouping-bar {
      @apply p-2;

      .e-grouping-bar-filters .e-grouping-bar-item,
      .e-grouping-bar-rows .e-grouping-bar-item,
      .e-grouping-bar-columns .e-grouping-bar-item,
      .e-grouping-bar-values .e-grouping-bar-item {
        @apply px-2 py-1 text-xs;
      }
    }
  }
}

