/* ============================================
   Tree Grid Component Styles
   ============================================ */

:host {
  @apply block w-full;
}

/* Syncfusion Tree Grid customization - Using ::ng-deep for third-party library styles */
:host ::ng-deep {
  .e-treegrid {
    @apply bg-white/95 dark:bg-slate-900/95 rounded-md border border-white/10 dark:border-slate-700/30;

    /* Header */
    .e-gridheader {
      @apply glass-weak dark:glass-dark-weak border-b border-white/10 dark:border-slate-700/30;

      .e-headercelldiv {
        @apply text-gray-700 dark:text-gray-300 font-semibold;
      }
    }

    /* Content */
    .e-gridcontent {
      background: rgba(255, 255, 255, 0.98);

      .dark & {
        background: rgba(15, 23, 42, 0.98);
      }

      /* Rows */
      .e-row {
        @apply border-b border-white/10 dark:border-slate-700/30 transition-smooth;
        &:hover {
          background-color: rgba(var(--primary-rgb), 0.05);
        }

        &.e-selected {
          background-color: rgba(var(--primary-rgb), 0.1);
        }

        /* Tree cell */
        .e-treecell {
          @apply text-gray-700 dark:text-gray-300;

          /* Expand/Collapse icon */
          .e-icons {
            @apply transition-smooth hover:opacity-80;
            color: rgb(var(--primary-rgb));
          }
        }

        /* Cells */
        .e-rowcell {
          @apply text-gray-700 dark:text-gray-300;
        }
      }
    }

    /* Toolbar */
    .e-toolbar {
      @apply glass-weak dark:glass-dark-weak border-b border-white/10 dark:border-slate-700/30 p-2;

      .e-toolbar-item {
        .e-btn {
          @apply glass-weak dark:glass-dark-weak rounded-sm text-gray-700 dark:text-gray-300 min-w-[44px] min-h-[44px] transition-smooth focus:ring-2;
          &:hover {
            background-color: rgba(var(--primary-rgb), 0.1);
            border-color: rgba(var(--primary-rgb), 0.3);
            color: rgb(var(--primary-rgb));
          }
          &:focus {
            --tw-ring-color: rgba(var(--primary-rgb), 0.2);
          }
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);

          .dark & {
            background: rgba(15, 23, 42, 0.3);
            border-color: rgba(51, 65, 85, 0.3);
          }
        }
      }
    }

    body.theme-gemini & .e-toolbar {
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(var(--primary-rgb), 0.2), 0 0 30px rgba(var(--primary-rgb), 0.1);
    }

    /* Pager */
    .e-pager {
      @apply glass-weak dark:glass-dark-weak border-t border-white/10 dark:border-slate-700/30 p-2;

      .e-pagercontainer {
        .e-pager {
          @apply text-gray-700 dark:text-gray-300;
        }

        .e-numericitem {
          @apply text-gray-700 dark:text-gray-300 rounded-sm transition-smooth;
          &:hover {
            background-color: rgba(var(--primary-rgb), 0.1);
            color: rgb(var(--primary-rgb));
          }

          &.e-currentitem {
            background-color: rgba(var(--primary-rgb), 0.2);
            color: rgb(var(--primary-rgb));
          }
        }
      }
    }

    /* Filter dialog */
    .e-filter-popup {
      @apply glass-strong dark:glass-dark-strong rounded-xl shadow-2xl border border-white/20 dark:border-slate-700/30;
    }

    /* Context menu */
    .e-contextmenu {
      @apply glass-strong dark:glass-dark-strong rounded-md shadow-lg border border-white/20 dark:border-slate-700/30;

      .e-menu-item {
        @apply text-gray-700 dark:text-gray-300 px-4 py-2 rounded-sm transition-smooth;
        &:hover {
          background-color: rgba(var(--primary-rgb), 0.1);
          color: rgb(var(--primary-rgb));
        }
      }
    }
  }
}

/* Responsive */
@media (max-width: 640px) {
  :host ::ng-deep .e-treegrid {
    .e-toolbar {
      @apply p-1;

      .e-toolbar-item {
        .e-btn {
          @apply text-xs px-1 py-1 min-w-0 min-h-0;
        }
      }
    }
  }
}

