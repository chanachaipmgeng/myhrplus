<div class="relative inline-block" [ngClass]="getSizeClasses()">
  <div class="relative inline-block overflow-hidden hover-scale transition-transform-smooth" [ngClass]="getShapeClasses() + (status && showStatus ? ' pr-0.5' : '')">
    <img
      *ngIf="src && !hasError"
      [src]="src"
      [alt]="name"
      (error)="onImageError()"
      class="block w-full h-full object-cover transition-opacity-smooth">
    <div
      *ngIf="!src || hasError"
      class="flex items-center justify-center text-white font-semibold bg-gradient-primary"
      [ngClass]="getInitialsSizeClasses()">
      {{ initials }}
    </div>
    <div
      *ngIf="status && showStatus"
      class="absolute bottom-0 right-0 rounded-full border-2 border-white dark:border-slate-800 shadow-md transition-transform-smooth"
      [ngClass]="getStatusClasses()"
      [style.background-color]="statusColor"
      [class.animate-pulse]="status === 'online'">
    </div>
  </div>
  <div
    *ngIf="badge && showBadge"
    class="absolute -top-1 -right-1 bg-error-500 text-white rounded-full flex items-center justify-center font-semibold text-xs min-w-[18px] px-1.5 py-0 shadow-md hover:scale-110 transition-transform-smooth"
    [ngClass]="getBadgeClasses()">
    <span *ngIf="isBadgeNumber() && isBadgeGreaterThanZero()">{{ getBadgeValue() }}</span>
  </div>
</div>

