<div
  *ngIf="show"
  class="fixed inset-0 z-50 overflow-y-auto"
  role="dialog"
  [attr.aria-modal]="true"
  [attr.aria-labelledby]="modalTitleId"
  [attr.aria-describedby]="modalDescriptionId"
  (click)="onBackdropClick()">
  <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
    <!-- Backdrop -->
    <div class="fixed inset-0 bg-black/50 backdrop-blur-sm animate-fade-in motion-safe:animate-none" aria-hidden="true"></div>

    <!-- Modal Panel -->
    <div
      #modalPanel
      class="glass-strong rounded-2xl text-left overflow-hidden shadow-xl animate-scale-in motion-safe:animate-none dark:glass-dark-strong theme-myhr:glass-myhr-strong theme-myhr:shadow-myhr-lg inline-block align-bottom sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
      [class]="sizeClass"
      role="document"
      (click)="$event.stopPropagation()">
      <!-- Header -->
      <div class="px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between">
        <h3 [id]="modalTitleId" class="text-lg font-semibold text-slate-900 dark:text-slate-100">
          {{ title }}
        </h3>
        <button
          *ngIf="closable"
          type="button"
          #closeButton
          (click)="close()"
          (keydown.enter)="close()"
          (keydown.space)="close(); $event.preventDefault()"
          [attr.aria-label]="closeAriaLabel"
          class="min-h-[44px] min-w-[44px] flex items-center justify-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-md transition-colors">
          <span aria-hidden="true">âœ•</span>
        </button>
      </div>

      <!-- Body -->
      <div [id]="modalDescriptionId" class="px-6 py-4">
        <ng-content></ng-content>
      </div>

      <!-- Footer -->
      <div *ngIf="showFooter" class="px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex justify-end space-x-3">
        <app-glass-button
          *ngIf="showCancel"
          variant="secondary"
          [ariaLabel]="displayCancelText"
          (clicked)="onCancel()">
          {{ displayCancelText }}
        </app-glass-button>
        <app-glass-button
          *ngIf="showConfirm"
          [variant]="confirmVariant"
          [ariaLabel]="displayConfirmText"
          (clicked)="onConfirm()">
          {{ displayConfirmText }}
        </app-glass-button>
      </div>
    </div>
  </div>
</div>


