<div *ngIf="show" class="fixed inset-0 z-50 overflow-y-auto" role="dialog" [attr.aria-modal]="true"
  [attr.aria-labelledby]="modalTitleId" [attr.aria-describedby]="modalDescriptionId" (click)="onBackdropClick()">

  <!-- Wrapper to center the modal -->
  <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">

    <!-- Backdrop -->
    <div class="fixed inset-0 bg-black/50 backdrop-blur-sm animate-fade-in motion-safe:animate-none" aria-hidden="true">
    </div>

    <!-- Modal Panel -->
    <div #modalPanel
      class="glass-strong rounded-2xl text-left shadow-xl animate-scale-in motion-safe:animate-none dark:glass-dark-strong theme-myhr:glass-myhr-strong theme-myhr:shadow-myhr-lg relative flex flex-col w-full mx-4 sm:mx-auto sm:max-w-lg overflow-hidden"
      [class]="sizeClass" role="document" (click)="$event.stopPropagation()">

      <!-- Header -->
      <div class="px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between">
        <h3 [id]="modalTitleId" class="text-lg font-semibold text-slate-900 dark:text-slate-100">
          {{ title | translate }}
        </h3>

        <!-- Close Button with SVG -->
        <button *ngIf="closable" type="button" #closeButton (click)="close()" (keydown.enter)="close()"
          (keydown.space)="close(); $event.preventDefault()" [attr.aria-label]="closeAriaLabel"
          class="min-h-[44px] min-w-[44px] flex items-center justify-center rounded-lg text-slate-400 hover:text-slate-600 dark:text-slate-200 dark:hover:text-white hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
            class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Body -->
      <div [id]="modalDescriptionId" class="px-6 py-4">
        <ng-content></ng-content>
      </div>

      <!-- Footer -->
      <div *ngIf="showFooter"
        class="px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex justify-end space-x-3 bg-gray-50/50 dark:bg-slate-800/30">
        <app-glass-button *ngIf="showCancel" variant="secondary" [ariaLabel]="displayCancelText" (clicked)="onCancel()">
          {{ displayCancelText }}
        </app-glass-button>
        <app-glass-button *ngIf="showConfirm" [variant]="confirmVariant" [ariaLabel]="displayConfirmText"
          (clicked)="onConfirm()">
          {{ displayConfirmText }}
        </app-glass-button>
      </div>
    </div>
  </div>
</div>