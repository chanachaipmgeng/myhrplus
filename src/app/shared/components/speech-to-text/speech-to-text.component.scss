/* ============================================
   Speech to Text Component Styles
   ============================================ */

@import '../../../../styles/design-tokens';
@import '../../../../styles/mixins';

:host {
  display: block;
  width: 100%;
}

.speech-to-text-container {
  width: 100%;
  @include glass-morphism('weak', 'light');
  border-radius: $radius-lg;
  padding: $spacing-4;
  
  .dark & {
    @include glass-morphism('weak', 'dark');
  }

  .speech-to-text-controls {
    display: flex;
    gap: $spacing-2;
    margin-bottom: $spacing-4;
    flex-wrap: wrap;

    .speech-button {
      @include glass-morphism('default', 'light');
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: $radius-md;
      padding: $spacing-3 $spacing-6;
      min-width: 120px;
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: $spacing-2;
      cursor: pointer;
      transition: $transition-all;
      color: $gray-700;
      font-weight: 500;
      
      .dark & {
        @include glass-morphism('default', 'dark');
        border-color: rgba(51, 65, 85, 0.3);
        color: $gray-300;
      }

      &:hover:not(:disabled) {
        background: rgba(var(--primary-rgb), 0.1);
        border-color: rgba(var(--primary-rgb), 0.3);
        color: rgb(var(--primary-rgb));
        transform: translateY(-2px);
        box-shadow: $shadow-md;
        
        .dark & {
          background: rgba(var(--primary-rgb), 0.2);
        }
      }

      &:active:not(:disabled) {
        transform: translateY(0) scale(0.98);
      }

      &:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(var(--primary-rgb), 0.2);
      }

      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      &.listening {
        background: rgba(239, 68, 68, 0.1);
        border-color: rgba(239, 68, 68, 0.3);
        color: rgb(239, 68, 68);
        animation: pulse 2s infinite;
        
        .dark & {
          background: rgba(239, 68, 68, 0.2);
        }

        .speech-icon {
          animation: pulse-icon 1s infinite;
        }
      }

      .speech-icon {
        font-size: $text-xl;
        line-height: 1;
      }

      .speech-text {
        font-size: $text-base;
      }

      @include respond-to(md) {
        min-width: auto;
        min-height: auto;
        padding: $spacing-2 $spacing-4;
      }
    }

    .clear-button {
      @include glass-morphism('weak', 'light');
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: $radius-md;
      padding: $spacing-3 $spacing-4;
      min-width: 80px;
      min-height: 44px;
      cursor: pointer;
      transition: $transition-all;
      color: $gray-700;
      font-weight: 500;
      
      .dark & {
        @include glass-morphism('weak', 'dark');
        border-color: rgba(51, 65, 85, 0.3);
        color: $gray-300;
      }

      &:hover:not(:disabled) {
        background: rgba(239, 68, 68, 0.1);
        border-color: rgba(239, 68, 68, 0.3);
        color: rgb(239, 68, 68);
        
        .dark & {
          background: rgba(239, 68, 68, 0.2);
        }
      }

      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      @include respond-to(md) {
        min-width: auto;
        min-height: auto;
        padding: $spacing-2 $spacing-3;
      }
    }
  }

  .speech-status {
    display: flex;
    align-items: center;
    gap: $spacing-2;
    margin-bottom: $spacing-3;
    padding: $spacing-2;
    background: rgba(255, 255, 255, 0.05);
    border-radius: $radius-sm;
    
    .dark & {
      background: rgba(15, 23, 42, 0.1);
    }

    .status-indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: $gray-400;
      transition: $transition-all;
      
      .dark & {
        background: $gray-600;
      }

      &.listening {
        background: rgb(239, 68, 68);
        animation: pulse-dot 1.5s infinite;
      }
    }

    .status-text {
      font-size: $text-sm;
      color: $gray-600;
      
      .dark & {
        color: $gray-400;
      }
    }
  }

  // Syncfusion TextArea Styles
  ::ng-deep {
    .e-textarea {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: $radius-md;
      color: $gray-700;
      padding: $spacing-3;
      
      .dark & {
        background: rgba(15, 23, 42, 0.3);
        border-color: rgba(51, 65, 85, 0.3);
        color: $gray-300;
      }

      &:focus {
        border-color: rgb(var(--primary-rgb));
        box-shadow: 0 0 0 2px rgba(var(--primary-rgb), 0.2);
      }

      &::placeholder {
        color: $gray-400;
        
        .dark & {
          color: $gray-600;
        }
      }
    }
  }

  .speech-info {
    margin-top: $spacing-3;
    padding: $spacing-3;
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
    border-radius: $radius-md;
    
    .dark & {
      background: rgba(239, 68, 68, 0.2);
      border-color: rgba(239, 68, 68, 0.3);
    }

    .info-text {
      color: rgb(239, 68, 68);
      font-size: $text-sm;
      margin: 0;
    }
  }
}

// Animations
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes pulse-icon {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

@keyframes pulse-dot {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.2);
  }
}

// Responsive
@include respond-to-down(sm) {
  .speech-to-text-container {
    padding: $spacing-2;
    
    .speech-to-text-controls {
      flex-direction: column;
      
      .speech-button,
      .clear-button {
        width: 100%;
      }
    }
  }
}

// Gemini Theme
body.theme-gemini {
  .speech-to-text-container {
    @include glass-gemini('weak');
    
    .speech-button.listening {
      @include glass-gemini('default');
      @include gemini-border-glow();
    }
  }
}

