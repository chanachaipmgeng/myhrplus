/* ============================================
   Rich Text Editor Component Styles
   ============================================ */

@import '../../../../styles/syncfusion-mixins';

:host {
  @apply block w-full;
}

/* Syncfusion Rich Text Editor customization - Using ::ng-deep for third-party library styles */
:host ::ng-deep {
  .e-rte {
    @include syncfusion-glass-container;

    /* Toolbar */
    .e-rte-toolbar {
      @include syncfusion-glass-toolbar;
      @apply border-b border-white/10 dark:border-slate-700/30 p-2 rounded-t-md;

      .e-toolbar-items {
        .e-toolbar-item {
          .e-btn {
            @include syncfusion-glass-button;
            @apply rounded-sm active:bg-primary-500/20 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed;
          }

          /* Dropdown */
          .e-dropdown-btn {
            @include syncfusion-glass-button;
          }
        }
      }
    }

    /* Content Area */
    .e-content {
      @apply bg-white/5 dark:bg-slate-900/10 rounded-b-md min-h-[200px];

      .e-content-placeholder {
        @apply text-gray-400 dark:text-gray-500;
      }

      /* Editor iframe */
      iframe {
        @apply bg-transparent text-gray-900 dark:text-gray-100;
      }

      /* Source Code Editor */
      .e-source-content {
        @apply bg-white/5 dark:bg-slate-900/20 border border-white/10 dark:border-slate-700/30 rounded-sm text-gray-900 dark:text-gray-100 transition-smooth focus:border-primary-600 focus:ring-2 focus:ring-primary-500/20;
        font-family: 'JetBrains Mono', monospace;
      }
    }

    /* Quick Toolbar */
    .e-quick-toolbar {
      @apply glass-strong dark:glass-dark-strong theme-gemini:glass-gemini rounded-md shadow-lg;

      .e-toolbar-items {
        .e-toolbar-item {
          .e-btn {
            @apply glass-weak dark:glass-dark-weak text-gray-700 dark:text-gray-300 transition-smooth hover:bg-primary-500/10 dark:hover:bg-primary-500/20 hover:border-primary-500/30 hover:text-primary-600;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);

            .dark & {
              background: rgba(15, 23, 42, 0.3);
              border-color: rgba(51, 65, 85, 0.3);
            }
          }
        }
      }
    }

    body.theme-gemini & .e-quick-toolbar {
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(59, 130, 246, 0.2), 0 0 40px rgba(59, 130, 246, 0.1);
    }

    /* Dialog */
    .e-dialog {
      @apply glass-strong dark:glass-dark-strong theme-gemini:glass-gemini rounded-xl;

      .e-dlg-header {
        @apply glass-weak dark:glass-dark-weak border-b border-white/10 dark:border-slate-700/30 p-4;

        .e-dlg-header-content {
          @apply text-gray-900 dark:text-gray-100 font-semibold;
        }
      }

      .e-dlg-content {
        @apply bg-transparent p-4;
      }

      .e-dlg-footer {
        @apply bg-white/5 dark:bg-slate-900/20 border-t border-white/10 dark:border-slate-700/30 p-3;

        .e-btn {
          @apply glass-weak dark:glass-dark-weak text-gray-700 dark:text-gray-300 min-w-[44px] min-h-[44px] transition-smooth hover:bg-primary-500/10 dark:hover:bg-primary-500/20 hover:border-primary-500/30 hover:text-primary-600;
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);

          .dark & {
            background: rgba(15, 23, 42, 0.3);
            border-color: rgba(51, 65, 85, 0.3);
          }

          &.e-primary {
            @apply bg-primary-600 border-primary-600 text-white hover:bg-primary-700;
          }
        }
      }
    }

    /* Character Count */
    .e-rte-character-count {
      @apply text-gray-600 dark:text-gray-400 text-sm;
    }
  }
}

/* Responsive */
@media (max-width: 640px) {
  :host ::ng-deep .e-rte {
    .e-rte-toolbar {
      @apply p-1;

      .e-toolbar-items {
        .e-toolbar-item {
          .e-btn {
            @apply px-2 py-1 text-xs;
          }
        }
      }
    }
  }
}

