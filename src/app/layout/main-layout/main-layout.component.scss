/* ============================================
   Main Layout Component Styles
   Modern, Responsive, Animated Layout
   ============================================ */

   @import '../../../styles/mixins';

   /* Layout Background Pattern */
   .layout-background {
     position: relative;

     /* Animated gradient overlay */
     &::before {
       content: '';
       position: absolute;
       inset: 0;
       background:
         radial-gradient(circle at 20% 30%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
         radial-gradient(circle at 80% 70%, rgba(99, 102, 241, 0.1) 0%, transparent 50%);
       opacity: 0.4;
       animation: gradientShift 8s ease-in-out infinite;
       pointer-events: none;
       z-index: 0;
     }

     /* Pattern overlay */
     &::after {
       content: '';
       position: absolute;
       inset: 0;
       background-image:
         repeating-linear-gradient(
           0deg,
           transparent,
           transparent 2px,
           rgba(59, 130, 246, 0.03) 2px,
           rgba(59, 130, 246, 0.03) 4px
         );
       opacity: 0.5;
       animation: patternShimmer 20s linear infinite;
       pointer-events: none;
       z-index: 1;
     }

     /* Dark mode adjustments */
     .dark &::before,
     .dark &::after {
       opacity: 0.2;
     }

     /* Gemini theme adjustments */
     [class*='theme-gemini'] &::before {
       background:
         radial-gradient(circle at 20% 30%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
         radial-gradient(circle at 80% 70%, rgba(99, 102, 241, 0.15) 0%, transparent 50%);
       opacity: 0.6;
     }

     [class*='theme-gemini'] &::after {
       background-image:
         repeating-linear-gradient(
           0deg,
           transparent,
           transparent 2px,
           rgba(59, 130, 246, 0.05) 2px,
           rgba(59, 130, 246, 0.05) 4px
         );
       opacity: 0.7;
     }
   }

   /* Content Area */
   .content-area {
     /* Smooth scroll */
     scroll-behavior: smooth;


     /* Custom scrollbar */
     &::-webkit-scrollbar {
       width: 8px;
     }

     &::-webkit-scrollbar-track {
       background: rgba(0, 0, 0, 0.05);
       border-radius: 4px;
     }

     &::-webkit-scrollbar-thumb {
       background: rgba(59, 130, 246, 0.3);
       border-radius: 4px;
       transition: background 0.3s ease;

       &:hover {
         background: rgba(59, 130, 246, 0.5);
       }
     }

     /* Dark mode scrollbar */
     .dark &::-webkit-scrollbar-track {
       background: rgba(255, 255, 255, 0.05);
     }

     .dark &::-webkit-scrollbar-thumb {
       background: rgba(59, 130, 246, 0.4);

       &:hover {
         background: rgba(59, 130, 246, 0.6);
       }
     }
   }

   /* Syncfusion Sidebar Enhancements */
   ::ng-deep {
     .modern-sidebar {
       &.e-sidebar {
         /* Z-index to ensure sidebar is above footer */

         /* Smooth transitions */
         transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                     opacity 0.3s ease-in-out,
                     box-shadow 0.3s ease-in-out;

         /* Enhanced shadow */
         box-shadow:
           0 10px 40px rgba(0, 0, 0, 0.1),
           0 0 0 1px rgba(59, 130, 246, 0.1);

         /* Backdrop blur */
         -webkit-backdrop-filter: blur(20px);
         backdrop-filter: blur(20px);

         /* Position to avoid header overlap */
         /* Header height: ~64px (mobile) to ~72px (desktop) */
         /* Default: header visible */
         top: 64px !important;
         height: calc(100vh - 64px) !important;

         @media (min-width: 768px) {
           top: 72px !important;
           height: calc(100vh - 72px) !important;
         }

         /* When header is hidden */
         .header-hidden & {
           top: 0 !important;
           height: 100vh !important;
         }

         /* Alternative: check parent class */
         :host-context(.header-hidden) & {
           top: 0 !important;
           height: 100vh !important;
         }

         /* Dark mode */
         .dark & {
           box-shadow:
             0 10px 40px rgba(0, 0, 0, 0.3),
             0 0 0 1px rgba(59, 130, 246, 0.2);
         }

         /* Gemini theme */
         [class*='theme-gemini'] & {
           box-shadow:
             0 10px 40px rgba(0, 0, 0, 0.5),
             0 0 0 1px rgba(59, 130, 246, 0.3),
             0 0 60px rgba(59, 130, 246, 0.1);
         }
       }

       /* Overlay */
       &.e-sidebar-overlay {
         background: rgba(0, 0, 0, 0.3);
         -webkit-backdrop-filter: blur(4px);
         backdrop-filter: blur(4px);
         transition: opacity 0.3s ease-in-out;
       }
     }
   }

   /* Animations */
   @keyframes gradientShift {
     0%, 100% {
       background-position: 0% 50%;
     }
     50% {
       background-position: 100% 50%;
     }
   }

   @keyframes patternShimmer {
     0% {
       background-position: 0 0;
     }
     100% {
       background-position: 0 100px;
     }
   }

   /* Responsive Design */
   @include respond-to-down('md') {
     .layout-background {
       &::before,
       &::after {
         opacity: 0.3;
       }
     }

     .content-area {
       /* Reduce padding on mobile */
       padding: 1rem;
     }
   }

   /* Reduced Motion Support */
   @media (prefers-reduced-motion: reduce) {
     .layout-background {
       &::before,
       &::after {
         animation: none;
       }
     }

     .content-area {
       scroll-behavior: auto;
     }

     ::ng-deep {
       .modern-sidebar {
         &.e-sidebar {
           transition: none;
         }
       }
     }
   }

