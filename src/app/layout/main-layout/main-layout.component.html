<div class="min-h-screen transition-all duration-300">
  <div class="sidenav-container flex">
    <!-- Sidebar -->
    <aside
      #drawer
      class="sidenav glass-nav dark:bg-slate-900/20 dark:border-slate-700/30 w-64 min-h-screen border-r border-white/30 dark:border-slate-700/30 transition-all duration-300"
      [class.hidden]="(isHandset$ | async) && !sidebarOpen"
      [class.fixed]="(isHandset$ | async)"
      [class.z-50]="(isHandset$ | async) && sidebarOpen"
      [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'">
      <app-sidebar></app-sidebar>
    </aside>

    <!-- Overlay for mobile -->
    <div
      *ngIf="(isHandset$ | async) && sidebarOpen"
      class="fixed inset-0 bg-black/50 z-40"
      (click)="closeSidebar()">
    </div>

    <!-- Main Content -->
    <div class="flex-1 min-h-screen flex flex-col">
      <app-header (toggleSidenav)="toggleSidebar()"></app-header>
      <main class="main-content flex-1 animate-fade-in p-6">
        <router-outlet></router-outlet>
      </main>
      <app-footer></app-footer>
    </div>
  </div>
</div>
