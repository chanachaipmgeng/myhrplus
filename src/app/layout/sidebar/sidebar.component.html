<div class="h-full p-4">
  <div class="mb-6">
    <h2 class="thai-text font-bold text-xl text-slate-800 dark:text-slate-100 mb-2 px-2 transition-colors duration-300">เมนูหลัก</h2>
    <div class="h-px bg-gradient-to-r from-transparent via-white/30 dark:via-slate-700/30 to-transparent transition-colors duration-300"></div>
  </div>

  <mat-nav-list class="!p-0">
    <ng-container *ngFor="let item of menuItems">
      <a
        mat-list-item
        [routerLink]="item.route"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{exact: false}"
        class="!rounded-lg !mb-2 !mx-2 !transition-all !duration-200 hover:!bg-white/30 dark:hover:!bg-slate-700/30 active:!bg-white/40 dark:active:!bg-slate-700/40 active:!shadow-glass-sm"
        *ngIf="!hasChildren(item)">
        <mat-icon matListItemIcon class="!text-slate-600 dark:!text-slate-400 !mr-3 transition-colors duration-300">{{ item.icon || 'folder' }}</mat-icon>
        <span matListItemTitle class="thai-text font-medium text-slate-700 dark:text-slate-200 transition-colors duration-300">{{ item.edesc || item.name }}</span>
      </a>
      
      <mat-expansion-panel 
        *ngIf="hasChildren(item)" 
        class="menu-group !mb-2 !bg-white/20 dark:!bg-slate-900/20 !backdrop-blur-sm !border !border-white/30 dark:!border-slate-700/30 !rounded-lg !shadow-glass-sm transition-all duration-300">
        <mat-expansion-panel-header class="!px-4 !py-2">
          <mat-panel-title class="!flex !items-center">
            <mat-icon class="!text-slate-600 dark:!text-slate-400 !mr-3 transition-colors duration-300">{{ item.icon || 'folder' }}</mat-icon>
            <span class="thai-text font-medium text-slate-700 dark:text-slate-200 transition-colors duration-300">{{ item.edesc || item.name }}</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="!px-2 !py-2">
          <a
            mat-list-item
            *ngFor="let child of item.children"
            [routerLink]="child.route"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: false}"
            class="!rounded-lg !mb-1 !transition-all !duration-200 hover:!bg-white/30 dark:hover:!bg-slate-700/30 active:!bg-white/40 dark:active:!bg-slate-700/40">
            <mat-icon matListItemIcon class="!text-slate-500 dark:!text-slate-500 !mr-3 !text-lg transition-colors duration-300">{{ child.icon || 'folder' }}</mat-icon>
            <span matListItemTitle class="thai-text text-sm text-slate-600 dark:text-slate-300 transition-colors duration-300">{{ child.edesc || child.name }}</span>
          </a>
        </div>
      </mat-expansion-panel>
    </ng-container>
  </mat-nav-list>
</div>
