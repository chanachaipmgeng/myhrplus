/* ============================================
   Header Component Styles
   Modern Glassmorphism with Micro-interactions
   ============================================ */

@import '../../../styles/mixins';

/* Header Icon Buttons */
.header-icon-btn {
  position: relative;

  /* Ripple effect - Using CSS Variables */
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(circle, var(--header-ripple-color) 0%, transparent 70%);
    opacity: 0;
    transform: scale(0);
    @include smooth-transition(opacity transform, 0.3s);
    pointer-events: none;
  }

  &:active::after {
    opacity: 1;
    transform: scale(1.5);
  }
}

/* Omni Search Trigger */
.omni-search-trigger {
  position: relative;
  overflow: hidden;

  /* Shimmer effect on hover - Using standardized mixin */
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      var(--header-shimmer-color) 50%,
      transparent 100%
    );
    transform: translateX(-100%);
    @include smooth-transition(transform, 0.6s);
  }

  &:hover::before {
    transform: translateX(100%);
  }

  /* Note: Using custom shimmer for omni-search trigger with CSS variable color */
  /* Standard shimmer-effect mixin uses fixed color, so we keep custom implementation */
}

/* Dropdown Menus */
.language-dropdown,
.notification-dropdown,
.user-dropdown {
  /* Enhanced backdrop */
  @include backdrop-blur(20px);

  /* Smooth entrance */
  animation: dropdownSlideIn 0.2s cubic-bezier(0.4, 0, 0.2, 1);

  /* Shadow enhancement - Using CSS Variables */
  box-shadow: var(--header-dropdown-shadow);
}

/* Language Item */
.language-item {
  position: relative;
  animation: languageItemFadeIn 0.3s ease-out both;
  animation-delay: var(--animation-delay, 0ms);

  /* Active indicator - Using CSS Variables */
  &.active {
    background: var(--header-active-bg);

    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 3px;
      background: linear-gradient(to bottom, var(--primary-color), rgba(var(--primary-rgb), 0.8));
      border-radius: 0 2px 2px 0;
    }
  }
}

@keyframes languageItemFadeIn {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Notification Item */
.notification-item {
  position: relative;
  animation: notificationItemFadeIn 0.3s ease-out both;
  animation-delay: var(--animation-delay, 0ms);

  /* Unread indicator - Using CSS Variables */
  &.unread {
    background: var(--header-unread-bg);

    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 3px;
      background: linear-gradient(to bottom, var(--primary-color), rgba(var(--primary-rgb), 0.8));
      border-radius: 0 2px 2px 0;
    }
  }

  /* Pulse animation for unread */
  &.unread .notification-icon {
    animation: pulse 2s ease-in-out infinite;
  }
}

@keyframes notificationItemFadeIn {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* User Menu Item */
.user-menu-item {
  position: relative;

  /* Icon animation */
  app-icon {
    @include smooth-transition(transform color, 0.2s);
  }

  &:hover app-icon {
    transform: scale(1.1) rotate(5deg);
  }
}

/* Animations */
@keyframes dropdownSlideIn {
  from {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Pulse animation - Using standardized animation from _mixins.scss */
/* Note: pulse keyframes are defined in _mixins.scss */

/* Responsive Design */
@include respond-to-down('md') {
  .omni-search-trigger {
    /* Reduce max-width on mobile */
    max-width: 100%;
  }

  .language-dropdown,
  .notification-dropdown,
  .user-dropdown {
    /* Full width on mobile */
    width: calc(100vw - 2rem);
    max-width: 20rem;
  }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .header-icon-btn,
  .omni-search-trigger,
  .language-item,
  .notification-item,
  .user-menu-item {
    transition: none;
    animation: none;
  }

  .language-dropdown,
  .notification-dropdown,
  .user-dropdown {
    animation: none;
  }
}


