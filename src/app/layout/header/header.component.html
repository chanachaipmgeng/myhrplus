<header class="glass-nav bg-white/25 dark:bg-slate-900/25 backdrop-blur-lg border-b border-white/30 dark:border-slate-700/30 shadow-lg transition-all duration-300 sticky top-0 z-30 gemini-header">
  <div class="flex items-center justify-between px-3 md:px-4 py-2 md:py-3">
    <div class="flex items-center gap-2 md:gap-4 flex-1 min-w-0">
      <!-- Menu Toggle Button -->
      <button
        ejs-button
        [cssClass]="'e-flat e-primary'"
        [iconCss]="'e-icons e-menu'"
        (click)="toggleSidenav.emit()"
        [title]="'เมนู'"
        class="e-control e-btn e-flat e-primary">
      </button>

      <!-- Logo Section -->
      <div class="flex items-center gap-2 md:gap-3 flex-shrink-0 min-w-0">
        <div class="inline-flex items-center justify-center w-8 h-8 md:w-10 md:h-10 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 dark:from-blue-600 dark:to-indigo-700 shadow-lg flex-shrink-0">
          <app-icon name="business_center" size="sm" class="md:hidden" color="text-white"></app-icon>
          <app-icon name="business_center" size="md" class="hidden md:block" color="text-white"></app-icon>
        </div>
        <div class="flex flex-col min-w-0 hidden sm:block">
          <span class="app-title thai-text font-semibold text-slate-800 dark:text-slate-100 text-sm md:text-lg leading-tight truncate">
            ระบบบริหารทรัพยากรบุคคล
          </span>
          <span class="app-title-en font-medium text-slate-600 dark:text-slate-400 text-xs hidden md:block">
            HR System
          </span>
        </div>
      </div>
    </div>

    <div class="flex items-center gap-1 md:gap-2 flex-shrink-0">
      <!-- Language Switcher -->
      <button
        ejs-button
        [cssClass]="'e-flat e-primary'"
        [iconCss]="'e-icons e-globe'"
        (click)="toggleLanguageMenu()"
        [title]="'เปลี่ยนภาษา'"
        class="e-control e-btn e-flat e-primary">
      </button>

      <!-- Theme Toggle -->
      <app-theme-toggle></app-theme-toggle>

      <!-- Notifications -->
      <button
        ejs-button
        [cssClass]="'e-flat e-primary relative'"
        [iconCss]="'e-icons e-bell'"
        [title]="'การแจ้งเตือน'"
        class="e-control e-btn e-flat e-primary relative">
        <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 dark:bg-red-400 rounded-full"></span>
      </button>

      <!-- User Menu -->
      <button
        ejs-button
        [cssClass]="'e-flat e-primary'"
        [iconCss]="'e-icons e-user'"
        (click)="toggleUserMenu()"
        [title]="'เมนูผู้ใช้'"
        class="e-control e-btn e-flat e-primary">
      </button>
    </div>
  </div>

  <!-- Language Menu Dropdown -->
  <ejs-contextmenu
    *ngIf="showLanguageMenu"
    #languageMenu
    [target]="'header'"
    [items]="languageMenuItems"
    (select)="onLanguageSelect($event)">
  </ejs-contextmenu>

  <!-- User Menu Dropdown -->
  <ejs-contextmenu
    *ngIf="showUserMenu"
    #userMenu
    [target]="'header'"
    [items]="userMenuItems"
    (select)="onUserMenuSelect($event)">
  </ejs-contextmenu>
</header>
